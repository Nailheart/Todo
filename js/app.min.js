(()=>{let t=[];const e=document.querySelector(".todo__form"),o=document.querySelector(".todo__list"),s=document.querySelector(".select__filters");function c(t){const e=t.checked?"todo__item--checked":"",s=document.createElement("li");""!==e?s.classList.add("todo__item",`${e}`):s.classList.add("todo__item"),s.innerHTML=`\n      <span class="todo__text">${t.text}</span>\n      <button class="todo__button todo__button--check"><i class="fas fa-check"></i></button>\n      <button class="todo__button todo__button--delete"><i class="fas fa-trash"></i></button>\n    `,o.appendChild(s)}document.addEventListener("DOMContentLoaded",(()=>{const e=localStorage.getItem("todos");e&&(t=JSON.parse(e),t.forEach((t=>{c(t)})))})),e.addEventListener("submit",(e=>{e.preventDefault;const o=document.querySelector(".todo__input"),s=o.value.trim();""!==s&&(!function(e){const o={text:e,checked:!1};t.push(o),localStorage.setItem("todos",JSON.stringify(t)),c(o)}(s),o.value="",o.focus())})),o.addEventListener("click",(e=>{const o=e.target.parentElement.querySelector(".todo__text").textContent,s=t.findIndex((t=>t.text===o));e.target.classList.contains("todo__button--check")&&(e.target.parentElement.classList.toggle("todo__item--checked"),t[s].checked=!t[s].checked,localStorage.setItem("todos",JSON.stringify(t))),e.target.classList.contains("todo__button--delete")&&(e.target.parentElement.remove(),t.splice(s,1),localStorage.setItem("todos",JSON.stringify(t)))})),s.addEventListener("click",(function(t){o.childNodes.forEach((e=>{switch(t.target.value){case"all":e.style.display="flex";break;case"completed":e.classList.contains("todo__item--checked")?e.style.display="flex":e.style.display="none";break;case"uncompleted":e.classList.contains("todo__item--checked")?e.style.display="none":e.style.display="flex"}}))}))})();